{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\instance_enemy.js"],"names":["cc","Class","extends","Component","properties","instant_rate","default","type","Integer","enemy_prefab","Prefab","time","timer","Label","start","schedule","instant_enemy","macro","REPEAT_FOREVER","window_size","winSize","find","getComponent","timer_des","clone_enemy","instantiate","r","Math","sqrt","pow","console","log","addChild","x","range_int","random","y","restart","director","resume","removeAllChildren","active","pause","name","string","toString","min","max","floor"],"mappings":"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","file":"instance_enemy.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        instant_rate: {\r\n            default: 1,\r\n            type: cc.Integer,\r\n        },\r\n        enemy_prefab: {\r\n            default: null,\r\n            type: cc.Prefab,\r\n        },\r\n        time: {\r\n            default:0,\r\n            type:cc.Integer,\r\n        },\r\n       \r\n        timer: cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.schedule(this.instant_enemy, 1 / (this.instant_rate*this.time/50), cc.macro.REPEAT_FOREVER, 0);\r\n        this.window_size = cc.winSize;\r\n        this.timer = cc.find(\"Canvas/timer\").getComponent(cc.Label);\r\n        \r\n        this.schedule(this.timer_des, 1, cc.macro.REPEAT_FOREVER, 0);\r\n    },\r\n    instant_enemy() {\r\n        var clone_enemy = cc.instantiate(this.enemy_prefab);\r\n        var r = Math.sqrt(Math.pow(500 / 2, 2) + Math.pow(500/ 2, 2));\r\n\r\n        console.log(r);\r\n        cc.find(\"Canvas/enemys\").addChild(clone_enemy);\r\n        clone_enemy.x = this.range_int(-r, r);\r\n        console.log(clone_enemy.x);\r\n        if (Math.random() > 0.5) {\r\n            clone_enemy.y = Math.sqrt((r * r - Math.pow(clone_enemy.x, 2)));\r\n            console.log(clone_enemy.y);\r\n        } else {\r\n            clone_enemy.y = -Math.sqrt((r * r - Math.pow(clone_enemy.x, 2)));\r\n        }\r\n\r\n\r\n\r\n    },\r\n    restart() {\r\n        cc.director.resume();\r\n        cc.find(\"Canvas/enemys\").removeAllChildren();\r\n        cc.find(\"Canvas/button\").active = false;\r\n        cc.find(\"Canvas/win\").active = false;\r\n        this.time = 100;\r\n    },\r\n    timer_des() {\r\n        console.log(this.time);\r\n        if (this.time <= 0) {\r\n            console.log(\"�����ˣ��������Ϸʤ��\")\r\n            cc.find(\"Canvas/win\").active = true;\r\n            cc.director.pause();\r\n            return;\r\n        } else {\r\n            this.time -= 1;\r\n            console.log(this.name);\r\n            this.timer.string =this.time.toString();\r\n \r\n        }\r\n\r\n        \r\n    },\r\n    range_int(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n    // update (dt) {},\r\n});"]}